{% extends "base.html" %}

{% block title %} Deals {% endblock title %}

{% block body %}

<!-- Page -->
<div class="panel panel-primary">

  <div class="panel-heading">
    
    <div class="row">
        <div class="col-lg-12">
          <div class="text-heading"> Deals Actualizados
          </div>
        </div>
    </div>
  
  </div>

  <div class="panel-body">

  <div class="row">
        <div class="col-lg-12">

         <table width="100%" class="table table-striped table-hover table-compact" id="dataTables">
          <thead>
            <tr>
              <th>ID</th>
              {% for col in columns %}
                <th>{{col}}</th>
              {% endfor %}
            </tr>
          </thead>
          <tbody>
          {% for item in items %}
            <tr>
            <td><a href="/deal/show/{{item.negocio_id}}">{{item.negocio_id}}</a></td>
            {% for col in columns %}
              <td>{{item.get_value_by_col(col)}}</td>
            {% endfor %}
          {% endfor %}
         </tbody>
        </table>

       </div>
   </div>

  </div>

</div>

<!-- Page -->

{% endblock body %}


{% block scripts %}

  <script>
      $(document).ready(function() {
          $('#dataTables').DataTable({
              responsive: true,
              stateSave: true,
              searching: true,
              info: true,
              paging: true,
              "order": [0, 'desc'],
              "pageLength": 20,
              "lengthChange": true,
              "lengthMenu": [ 20, 50, 100 ],
              "sDom": "<'row'<'col-lg-6'f><'col-lg-6'l>>t<'row'<'col-lg-6'i><'col-lg-6'p>>",
              "columnDefs": [ { "width": "60px", "targets": [4] },
                              { "width": "60px", "targets": [13]}]
          });
          $('.dataTables_filter input').css({"width": "60%"});
      });          
  </script>


{% endblock scripts %}

